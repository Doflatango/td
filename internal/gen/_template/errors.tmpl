{{- /*gotype: github.com/gotd/td/internal/gen.config*/ -}}

{{ define "errors" }}
{{ $pkg := $.Package }}
{{ template "header" $ }}

// ErrorType wraps error type string as Go error.
type ErrorType string

func (err ErrorType) Error() string {
  return string(err)
}

{{- range $s := $.Errors }}

// Err{{ $s.Name }} is error type for "{{ $s.Type }}".
const Err{{ $s.Name }} = "{{ $s.Type }}"

// Is{{ $s.Name }} reports whether err is {{ $s.Type }}.
func Is{{ $s.Name }}(err error) bool {
  return errors.Is(err, ErrorType(Err{{ $s.Name }}))
}
{{ end }}

{{ end }}
